const e=[],t=[],s=function(e,t){localStorage.setItem("article-"+t,JSON.stringify(e))},r=function(e,t){localStorage.setItem("bookmark-"+t,JSON.stringify(e))},o=function(e){localStorage.removeItem("article-"+e)},a=function(e){localStorage.removeItem("bookmark-"+e)},i=function(t){e?.push(t),s(t,t?.id)},l=function(t){let s=e.filter(e=>e.title===t)[0];o(s.id);let r=e.indexOf(s);e.splice(r,1)},d=function(){let e=[],t=Object.keys(localStorage),s=0,r;for(;r=t[s];s++)e.push(r+"="+localStorage.getItem(r));return e},n=function(o){let[a]=e.filter(e=>e.title===o),i=e.indexOf(a),l=e[i];l.isBookmarked=!0;let d=l.id.toString();s(l,d);let[n]=e.filter(e=>e.title===o);t.push(n);let c=t.indexOf(n);t[c].rendered=void 0,t[c].bookmarkID=Math.round(8888888888*Math.random()+1111111111),r(n,n?.bookmarkID)},c=function(r){let[o]=e.filter(e=>e.title===r),i=e.indexOf(o),l=e[i];l.isBookmarked=!1;let d=l.id.toString();s(l,d);let[n]=t.filter(e=>e.title===r);a(n.bookmarkID);let c=t.indexOf(n);t.splice(c,1)},m=function(s){let[r]=t.filter(e=>e.title===s),[o]=e.filter(e=>e.title===s);e.indexOf(o),e.length,a(r.bookmarkID);let i=t.indexOf(r);t.splice(i,1)};!function(){let s=d(),r=s.filter(e=>!e.includes("selectedTheme=light")).filter(e=>!e.includes("selectedTheme=dark")).filter(e=>!e.includes("bookmark-")),o=r?.map(e=>e.slice(0,18));o?.forEach(t=>e.push(JSON.parse(localStorage.getItem(t))));let a=s.filter(e=>!e.includes("selectedTheme=light")).filter(e=>!e.includes("selectedTheme=dark")).filter(e=>!e.includes("article-")),i=a?.map(e=>e.slice(0,19));i?.forEach(e=>t.push(JSON.parse(localStorage.getItem(e))))}();class g{root=document.querySelector(":root");darkBtn=document.getElementById("dark-mode");dot=document.getElementById("dot");loadTheme(){document.addEventListener("DOMContentLoaded",()=>{let e=localStorage.getItem("selectedTheme");"dark"===e&&(this.root.classList.add("dark"),this.dot.classList.toggle("translate-x-6")),"light"===e&&this.root.classList.remove("dark"),e||localStorage.setItem("selectedTheme","light")})}toggleTheme(){this.darkBtn.addEventListener("click",()=>{this.root.classList.toggle("dark"),this.dot.classList.toggle("translate-x-6"),this.root.classList.contains("dark")&&localStorage.setItem("selectedTheme","dark"),this.root.classList.contains("dark")||localStorage.setItem("selectedTheme","light")})}}var h=new g;class k{form=document.getElementById("modal-content");publishModal=document.getElementById("modal");message=document.getElementById("message");clearMessage(){this.message?.classList.add("hidden")}addMessage(){this.message?.classList.remove("hidden")}togglePublishModal(){this.publishModal.classList.toggle("active")}}class u extends k{#e=document.getElementById("add-btn");#t=document.getElementById("exit-modal-btn");showPublishModal(){this.#e?.addEventListener("click",this.togglePublishModal.bind(this))}exitPublishModal(){let e=this;window.onkeydown=e=>{"Escape"===e.key&&this.publishModal.classList.contains("active")&&this.togglePublishModal()},this.publishModal?.addEventListener("click",this.togglePublishModal.bind(this)),this.form?.addEventListener("click",e=>e.stopPropagation()),this.#t?.addEventListener("click",function(){e.togglePublishModal()})}}var p=new u;class b extends k{dropdownParent=document.querySelector(".bookmark-parent");dropdownBtn=document.querySelector(".dropdown-btn");articleH2text;articles;deleteMessageOnLoad(e){e.length>0&&this.clearMessage(),this.articles=e}deleteArticleMarkup(e,t){window.addEventListener("click",s=>{if(s.target.closest("#delete-btn")){let r=s.target.closest("#delete-btn"),o=r.closest(".article-element");this.articleH2text=o.querySelector(".article-h2").innerText;let a=o.querySelector(".article-h2"),i=o.querySelector(".delete-h3"),l=o.querySelector(".delete-p"),d=o.querySelector(".delete-span"),n=o.querySelector(".delete-img"),c=o.querySelector(".bookmarks"),m=c.querySelector(".bookmark-full"),g=[];if(g.push(a,i,l,d,r),g.map(e=>e.textContent=""),o.classList.add("max-h-0"),o.classList.contains("py-20")&&o.classList.remove("py-20"),o.classList.contains("pb-12")&&o.classList.remove("pb-12"),o.classList.contains("mt-10")&&o.classList.remove("mt-10"),o.classList.contains("md:pt-16")&&o.classList.remove("md:pt-16"),o.classList.contains("md:pb-10")&&o.classList.remove("md:pb-10"),o.classList.contains("sm:p-8")&&o.classList.remove("sm:p-8"),o.classList.contains("sm:pb-6")&&o.classList.remove("sm:pb-6"),o.classList.contains("sm:mt-6")&&o.classList.remove("sm:mt-6"),n.classList.add("opacity-0"),c.classList.add("opacity-0"),setTimeout(()=>{o.remove()},400),e(),!m.classList.contains("hidden")){let e=[...document.querySelectorAll(".dropdown-item")],s=e.map(e=>e?.querySelector(".bookmark-h2").textContent.trim()),[r]=s.filter(e=>e===this.articleH2text),[o]=e.filter(e=>e?.querySelector(".bookmark-h2").textContent.trim()===r);t(),o.remove();let[a]=e.filter(e=>e.querySelector(".bookmark-h2").textContent.trim()===this.articleH2text),i=e.indexOf(a);e.splice(i,1);let[l]=s.filter(e=>e===this.articleH2text),d=s.indexOf(l);s.splice(d,1);let n=document.querySelector(".bookmark-message");n?.remove(),0===e.length&&this.renderBookmarkMessage();let c=this.dropdownBtn.querySelector(".icon-outline"),g=this.dropdownBtn.querySelector(".icon-filled"),h=Array.from(document.querySelectorAll(".bookmark-full"));m.classList.add("hidden"),h.every(e=>e.classList.contains("hidden"))&&(g.classList.add("hidden"),c.classList.remove("hidden"))}0===this.articles.length&&this.addMessage()}})}renderBookmarkMessage(){this.dropdownParent?.insertAdjacentHTML("afterend",this.#s())}#s(){return`
         <span class="bookmark-message select-none border-2 border-gray-300 dark:border-transparent text-3xl text-gray-600 dark:text-gray-300 text-center bg-white dark:bg-gray-950 py-6 px-12 w-1/2 shadow-lg rounded-xl md:w-3/4 md:text-5xl md:py-12 md:px-16 sm:px-12 sm:text-3xl sm:py-6 md:mx-auto md:mt-24 sm:w-11/12">You haven't saved any articles yet!</span>
      `}}var x=new b;class y extends k{#r=document.getElementById("btn-parent");article;upload(e){let t=this;this.form?.addEventListener("submit",function(s){s.preventDefault();let r=Object.fromEntries([...new FormData(this)]);t.togglePublishModal(),t.clearMessage(),t.article=r,t.article.date=t.#o(),t.article.id=t.#a(),t.#i(),t.render(r),e()})}#i(){document.querySelectorAll(".input-element").forEach(e=>e.value="")}#a(){return Math.round(8888888888*Math.random()+1111111111)}render(e){this.#r?.insertAdjacentHTML("afterend",this.#l(e)),this.#d()}#o(){let e=new Date,t=navigator.language;return new Intl.DateTimeFormat(t,{day:"numeric",month:"long",year:"numeric"}).format(e)}#l(e){return`    
         <article 
         id="${e.id}"
         class="article-element relative flex flex-col justify-self-center w-1/2 gap-8 px-24 py-20 pb-12 mt-10 2xl:w-2/3 xl:w-2/3 lg:w-3/4 md:pt-16 md:pb-10 md:px-12 md:w-full sm:gap-6 sm:mt-6 sm:p-8 sm:pb-6 sm:px-6 bg-gray-100 dark:bg-gray-900 "
         style="transition: all 0.4s">
            <div class="flex flex-col gap-2 sm:gap-2">
               <h2 class="article-h2 text-7xl sm:text-6xl pb-2 sm:pb-0 text-gray-700 dark:text-gray-100">${e.title}
               </h2>
               <h3 class="delete-h3 text-3xl text-gray-500 dark:text-gray-400 sm:text-2xl">${e.description}
               </h3>
            </div>

            <div id="bookmarks" class="bookmarks absolute top-[-9px] right-6 2xl:top-[-10px] md:right-10 sm:top-[-9px] sm:right-1">
               <img class="bookmark-thin cursor-pointer w-14 h-14 2xl:w-16 2xl:h-16 sm:w-14 sm:h-14" src="././src/img/bookmark.png" alt="Bookmark Outline Icon">
               <img class="bookmark-full hidden cursor-pointer w-14 h-14 2xl:w-16 2xl:h-16 sm:w-14 sm:h-14" src="././src/img/bookmark-filled.png" alt="Bookmark Filled Icon">
            </div>
            
            <div
               class="a-div mt-2 sm:mt-0 h-[1px] bg-gradient-to-r from-gray-400 to-gray-200 to-100% dark:from-gray-400 dark:to-gray-600"
            ></div>

            <span class="delete-span mt-[-12px] sm:mt-[-20px] text-gray-500 dark:text-gray-300 sm:text-base">Posted on ${e.date}</span>


            <img class="delete-img"  src="${e.imageURL}" alt="Article Image">

            <p class="delete-p text-3xl text-justify sm:leading-[1.7rem] whitespace-pre-line text-gray-600 dark:text-gray-100 sm:text-xl sm:text-gray-700" style="font-family: 'Cormorant Garamond', serif;">${e.content}
            </p>

            <div
                  class="h-[1px] bg-gradient-to-l from-gray-400 to-gray-200 to-100% dark:from-gray-400 dark:to-gray-600"
               ></div>


            <div class="flex justify-end sm:justify-start gap-8 sm:mt-2">          
               <button
               id="delete-btn"
               class="delete-btn text-4xl sm:text-3xl sm:mt-[-16px] transition duration-150 border-b-2 dark:text-redhover hover:text-redhover text-red2 border-b-transparent hover:border-b-redhover"
               >
               Delete
            </button>
         </div>
         </article>
      `}#d(){Array.from(document.querySelectorAll(".article-element")).forEach(e=>{let t=e.querySelector(".delete-p"),s=t.textContent.slice(0,1),r=t.textContent.substring(1);t.innerHTML=`<span class="text-[8rem] pr-2 text-gray-500 leading-[0.7] mt-[0.6rem] float-left sm:text-[6rem]">${s}</span>${r}`})}}var f=new y;class L extends k{dropdownParent=document.querySelector(".bookmark-parent");dropdownBtn=document.querySelector(".dropdown-btn");bookmarkContainer=document.querySelector(".bookmark-container");dropdownItems=[];bookmarkH2s=[];articleH2;renderBookmarks(e){e.forEach(e=>{e.rendered||(this.#n(e),e.rendered=!0)})}toggleDropdown(e){let t=this;t.renderBookmarkMessage(),this.dropdownBtn?.addEventListener("click",function(){if(0===e.length){t.bookmarkContainer.classList.toggle("dropdown-active"),t.dropdownBtn.classList.add("focus:dark:brightness-150"),t.dropdownBtn.classList.add("focus:brightness-50"),document.querySelector(".backdrop-div").classList.add("backdrop-blur-xl"),t.exitDropdown();return}let s=document.querySelector(".bookmark-message");s?.remove(),t.bookmarkContainer.classList.toggle("dropdown-active"),document.querySelector(".backdrop-div").classList.add("backdrop-blur-xl"),t.dropdownBtn.classList.add("focus:dark:brightness-150"),t.dropdownBtn.classList.add("focus:brightness-50"),t.exitDropdown()})}renderBookmarkMessage(){this.dropdownParent?.insertAdjacentHTML("afterend",this.#s())}#s(){return`
         <span class="bookmark-message select-none border-2 border-gray-300 dark:border-transparent text-3xl text-gray-600 dark:text-gray-300 text-center bg-white dark:bg-gray-950 py-6 px-12 w-1/2 shadow-lg rounded-xl md:w-3/4 md:text-5xl md:py-12 md:px-16 sm:px-12 sm:text-3xl sm:py-6 md:mx-auto md:mt-24 sm:w-11/12">You haven't saved any articles yet!</span>
      `}exitDropdown(){let e=this;window.matchMedia("(pointer: coarse)").matches?this.bookmarkContainer.addEventListener("click",function(){e.bookmarkContainer.classList.remove("dropdown-active"),e.dropdownBtn.classList.remove("focus:dark:brightness-150"),e.dropdownBtn.classList.remove("focus:brightness-50"),document.querySelector(".backdrop-div").classList.remove("backdrop-blur-xl")}):this.bookmarkContainer.addEventListener("mouseleave",function(){e.bookmarkContainer.classList.remove("dropdown-active"),e.dropdownBtn.classList.remove("focus:dark:brightness-150"),e.dropdownBtn.classList.remove("focus:brightness-50"),document.querySelector(".backdrop-div").classList.remove("backdrop-blur-xl")})}persistBookmarkIcon(e){let t=e.filter(e=>!0===e.isBookmarked).map(e=>e.id);[...document.getElementsByTagName("article")].map(e=>+e.id).filter(e=>t.includes(e)).map(e=>e.toString()).map(e=>{let t=document.getElementById(`${e}`),s=t.querySelector(".bookmark-thin"),r=t.querySelector(".bookmark-full");s.classList.add("hidden"),r.classList.remove("hidden"),t.classList.contains("dark:bg-gray-900")&&(t.classList.remove("dark:bg-gray-900"),t.classList.add("dark:bg-[#0A1021]")),t.classList.contains("bg-gray-100")&&(t.classList.remove("bg-gray-100"),t.classList.add("bg-gray-200"));let o=this.dropdownBtn.querySelector(".icon-outline"),a=this.dropdownBtn.querySelector(".icon-filled");o.classList.contains("hidden")&&(o.classList.remove("hidden"),a.classList.add("hidden")),a.classList.contains("hidden")&&(a.classList.remove("hidden"),o.classList.add("hidden"))})}createBookmark(e,t){window.addEventListener("click",s=>{if(s.target.closest("#bookmarks")){let r=s.target.closest("#bookmarks"),o=r.querySelector(".bookmark-thin"),a=r.querySelector(".bookmark-full"),i=r.closest(".article-element");if(a.classList.contains("hidden")){o.classList.add("hidden"),a.classList.remove("hidden");let t=this.dropdownBtn.querySelector(".icon-outline"),s=this.dropdownBtn.querySelector(".icon-filled");t.classList.add("hidden"),s.classList.remove("hidden"),i.classList.contains("dark:bg-gray-900")&&(i.classList.remove("dark:bg-gray-900"),i.classList.add("dark:bg-[#0A1021]")),i.classList.contains("bg-gray-100")&&(i.classList.remove("bg-gray-100"),i.classList.add("bg-gray-200")),this.articleH2=i.querySelector(".article-h2").innerText,e();let r=document.querySelector(".dropdown-item");this.dropdownItems?.push(r),this.bookmarkH2s=this.dropdownItems.map(e=>e?.querySelector(".bookmark-h2").textContent.trim())}else{let e=document.querySelector(".dropdown-item");this.dropdownItems.includes(e)||this.dropdownItems.push(e),this.bookmarkH2s=this.dropdownItems.map(e=>e?.querySelector(".bookmark-h2").textContent.trim()),a.classList.add("hidden"),o.classList.remove("hidden");let s=this.dropdownBtn.querySelector(".icon-outline"),r=this.dropdownBtn.querySelector(".icon-filled"),l=Array.from(document.querySelectorAll(".bookmark-thin"));r.classList.remove("hidden"),s.classList.add("hidden"),l.every(e=>!e.classList.contains("hidden"))&&(r.classList.add("hidden"),s.classList.remove("hidden")),i.classList.contains("dark:bg-gray-900")||(i.classList.remove("dark:bg-[#0A1021]"),i.classList.add("dark:bg-gray-900")),i.classList.contains("bg-gray-100")||(i.classList.remove("bg-gray-200"),i.classList.add("bg-gray-100")),this.articleH2=i.querySelector(".article-h2").innerText;let[d]=this.bookmarkH2s.filter(e=>e===this.articleH2),[n]=this.dropdownItems.filter(e=>e?.querySelector(".bookmark-h2").textContent.trim()===d),[c]=this.dropdownItems.filter(e=>e.querySelector(".bookmark-h2").textContent.trim()===this.articleH2),m=this.dropdownItems.indexOf(c);this.dropdownItems.splice(m,1);let[g]=this.bookmarkH2s.filter(e=>e===this.articleH2),h=this.bookmarkH2s.indexOf(g);this.bookmarkH2s.splice(h,1),t(),n?.remove(),document.querySelector(".bookmark-message")||this.renderBookmarkMessage()}}})}#n(e){this.dropdownParent?.insertAdjacentHTML("afterend",this.#l(e))}#l(e){return`
         <a href="#${e.id}" class="dropdown-item text-2xl text-gray-300" style="filter: drop-shadow(0 1.5rem 2rem rgba(0, 0, 0, 0.342))">
                  <div class="grid items-center grid-cols-2 transition-all sm:grid-cols-1 hover:brightness-110">
                     <img class="object-cover w-full h-48 sm:h-28" src="${e.imageURL}" alt="Saved Article Image">
                     <div class="p-8 bg-gray-50 dark:bg-gray-800 sm:flex sm:flex-col sm:gap-1 sm:px-12 sm:pt-5 sm:pb-7 sm:bg-white">
                        <h2 class="bookmark-h2 text-3xl transition text-gray-600 dark:text-gray-200 sm:text-2xl ">${e.title}
                        </h2>
                        <h3 class="text-lg sm:text-base text-gray-500 dark:text-[#a9b5c6]">${e.description}
                        </h3>
                     </div>
                  </div>
               </a>
      `}}var v=new L;f.upload(function(){i(f.article)}),e?.map(e=>f.render(e)),v.renderBookmarks(t),v.persistBookmarkIcon(e),v.createBookmark(function(){n(v.articleH2),v.renderBookmarks(t)},function(){c(v.articleH2)}),v.toggleDropdown(t),p.showPublishModal(),p.exitPublishModal(),x.deleteArticleMarkup(function(){l(x.articleH2text)},function(){m(x.articleH2text)}),x.deleteMessageOnLoad(e),h.loadTheme(),h.toggleTheme();
//# sourceMappingURL=index.2b2364d5.js.map
